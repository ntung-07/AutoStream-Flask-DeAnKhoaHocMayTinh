<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/register.css">
    <title>Đăng ký tài khoản</title>
</head>

<body>
    <div class="container">
        <!-- Logo và thông tin reCAPTCHA -->
        <div class="left">
            <div class="logo">
                <img src="/static/images/autostream_logo.jpg" alt="Logo">
            </div>
            <div class="recaptcha-info">
                <p>Trang web được bảo mật bởi Google reCAPTCHA.</p>
            </div>
            <div class="login-option">
                <p>Đã có tài khoản? <a href="{{ url_for('login') }}">Đăng nhập</a></p>
                <p>Hoặc đăng nhập với</p>
                <button class="google-login-btn">
                    <img src="/static/images/google.png" alt="Google Icon"> Google
                </button>
            </div>
        </div>

        <!-- Form đăng ký bên phải -->
        <div class="right">
            <div class="form-container">
                <header>Đăng ký tài khoản</header>
                <!-- Vùng hiển thị các thông báo flash -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="flash-messages" style="font-size: 13px; color: red; padding-top: 25px;">
                        {% set category, message = messages[0] %}  <!-- Chỉ lấy thông báo đầu tiên -->
                        <div class="flash-message {{ category }}">
                            {{ message }}
                        </div>
                    </div>
                {% endif %}
                {% endwith %}
                <form action="{{ url_for('register') }}" method="POST">
                    <div class="form first">
                        <div class="details personal">
                            <span class="title">Thông tin cơ bản</span>
                            <div class="fields">
                                <div class="input-field">
                                    <label>Tên đăng nhập</label>
                                    <input name="username" type="text" placeholder="Nhập tên tài khoản" required value="{{ username }}">
                                </div>
                                <div class="input-field">
                                    <label>Họ và tên</label>
                                    <input name="name" type="text" placeholder="Nhập họ và tên" required value="{{ name }}">
                                </div>
                                <div class="input-field">
                                    <label>Ngày sinh</label>
                                    <input name="dob" type="date" placeholder="Nhập ngày sinh" required value="{{ dob }}">
                                </div>
                                <div class="input-field">
                                    <label>Email</label>
                                    <input name="email" type="email" placeholder="Nhập địa chỉ email" required value="{{ email }}">
                                </div>
                                <div class="input-field">
                                    <label>Số điện thoại</label>
                                    <input name="phone" type="tel" placeholder="Nhập số điện thoại" required value="{{ phone }}">
                                </div>
                                <div class="input-field">
                                    <label>Giới tính</label>
                                    <select name="gender" required value="{{ gender }}">
                                        <option disabled selected>Chọn giới tính</option>
                                        <option {% if gender == "Nam" %}selected{% endif %}>Nam</option>
                                        <option {% if gender == "Nữ" %}selected{% endif %}>Nữ</option>
                                        <option {% if gender == "Khác" %}selected{% endif %}>Khác</option>
                                    </select>
                                </div>
                                <div class="input-field">
                                    <label>Nghề nghiệp</label>
                                    <select name="occupation" required value="{{ occupation }}">
                                        <option disabled selected>Chọn nghề nghiệp</option>
                                        <option {% if occupation == "Sinh viên" %}selected{% endif %}>Sinh viên</option>
                                        <option {% if occupation == "Kỹ sư xây dựng" %}selected{% endif %}>Kỹ sư xây dựng</option>
                                        <option {% if occupation == "Kế toán" %}selected{% endif %}>Kế toán</option>
                                    </select>
                                </div>
                                <div class="input-field">
                                    <label>Quy mô gia đình</label>
                                    <input name="family_size" type="number" placeholder="Nhập số người" required value="{{ family_size }}">
                                </div>
                                <div class="input-field">
                                    <label>Ngân sách tối đa</label>
                                    <input name="maximum_budget" type="number" placeholder="Nhập ngân sách" required value="{{ maximum_budget }}">
                                </div>
                            </div>
                        </div>

                        <!-- Thông tin CCCD -->
                        <div class="details ID">
                            <span class="title">Thông tin CCCD</span>
                            <div class="fields">
                                <div class="input-field">
                                    <label>Loại CCCD</label>
                                    <select name="cccd_type">
                                        <option disabled selected>Chọn loại CCCD</option>
                                        <option>CMND</option>
                                        <option>CCCD</option>
                                    </select>
                                </div>
                                <div class="input-field">
                                    <label>Số CCCD</label>
                                    <input name="cccd_number" type="text" placeholder="Nhập số CCCD" >
                                </div>
                                <div class="input-field">
                                    <label>Nơi cấp</label>
                                    <input name="issued_by" type="text" placeholder="Nhập nơi cấp" >
                                </div>
                                <div class="input-field">
                                    <label>Ngày cấp</label>
                                    <input name="issued_date" type="date" placeholder="Nhập ngày cấp" >
                                </div>
                                <div class="input-field">
                                    <label>Nơi tải ảnh</label>
                                    <input name="photo_source" type="file" >
                                </div>
                                <div class="input-field">
                                    <label>Mật khẩu</label>
                                    <input name="password" type="password" placeholder="Nhập mật khẩu" value="{{ password }}">
                                </div>
                                <button class="nextBtn">
                                    <span class="btnText">Đăng ký</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>

</html>
